(()=>{function t(t,n,e){return Math.max(n,Math.min(e,t))}function n(t){const n=(t||"").trim();if(!n.startsWith("#"))return null;const e=n.slice(1);if(6!==e.length)return null;const o=Number.parseInt(e,16);return Number.isNaN(o)?null:{r:o>>16&255,g:o>>8&255,b:255&o}}function e(){const t=document.documentElement,e=n(window.getComputedStyle(t).getPropertyValue("--global-theme-color"));e&&(m.rgb=e)}function o(){m.dpr=t(window.devicePixelRatio||1,1,2),m.w=Math.floor(window.innerWidth*m.dpr),m.h=Math.floor(window.innerHeight*m.dpr),h.width=m.w,h.height=m.h}function i(t,n){const e=performance.now();m.points.push({x:t*m.dpr,y:n*m.dpr,r:(1.6+1.8*Math.random())*m.dpr,a:1,born:e,ttl:550+250*Math.random(),vx:.15*(Math.random()-.5)*m.dpr,vy:.15*(Math.random()-.5)*m.dpr}),m.points.length>m.maxPoints&&m.points.splice(0,m.points.length-m.maxPoints)}function r(t,n,e,o){const r=e-t,a=o-n,s=Math.hypot(r,a),c=10,d=Math.max(1,Math.min(12,Math.floor(s/c)));for(let e=0;e<d;e++){const o=1===d?1:(e+1)/d;i(t+r*o,n+a*o)}}function a(t){if("mouse"!==t.pointerType)return;const n=t.clientX,e=t.clientY;m.last?r(m.last.x,m.last.y,n,e):i(n,e),m.last={x:n,y:e}}function s(n){u.clearRect(0,0,m.w,m.h),u.globalCompositeOperation="lighter";const{r:e,g:o,b:i}=m.rgb,r=[];for(const a of m.points){const s=t((n-a.born)/a.ttl,0,1),c=1-s;if(c<=0)continue;a.x+=a.vx,a.y+=a.vy;const d=a.r*(.9+.25*(1-s));u.beginPath(),u.arc(a.x,a.y,d,0,2*Math.PI),u.fillStyle=`rgba(${e}, ${o}, ${i}, ${.35*c})`,u.fill(),r.push(a)}m.points=r,requestAnimationFrame(s)}const c=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,d=window.matchMedia&&window.matchMedia("(hover: none)").matches,l=navigator.maxTouchPoints&&navigator.maxTouchPoints>0||navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>0;if(c||d||l)return;const h=document.createElement("canvas");h.id="cursor-trail-canvas",h.setAttribute("aria-hidden","true"),document.body.appendChild(h);const u=h.getContext("2d",{alpha:!0});if(!u)return;const m={dpr:1,w:0,h:0,points:[],maxPoints:140,last:null,rgb:{r:120,g:180,b:255}};e(),o(),window.addEventListener("resize",o,{passive:!0}),window.addEventListener("pointermove",a,{passive:!0});new MutationObserver(e).observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),requestAnimationFrame(s)})();