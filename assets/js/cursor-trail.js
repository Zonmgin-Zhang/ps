(()=>{function t(t,n,o){return Math.max(n,Math.min(o,t))}function n(){m.dpr=t(window.devicePixelRatio||1,1,2),m.w=Math.floor(window.innerWidth*m.dpr),m.h=Math.floor(window.innerHeight*m.dpr),c.width=m.w,c.height=m.h}function o(t,n,o){const e=performance.now();m.points.push({x:t*m.dpr,y:n*m.dpr,r:(1.4+2.2*Math.random())*m.dpr,born:e,ttl:650+350*Math.random(),hue:o,vx:.12*(Math.random()-.5)*m.dpr,vy:.12*(Math.random()-.5)*m.dpr}),m.points.length>m.maxPoints&&m.points.splice(0,m.points.length-m.maxPoints)}function e(t,n,e,i){const a=e-t,r=i-n,s=Math.hypot(a,r),h=10,c=Math.max(1,Math.min(16,Math.floor(s/h))),d=.08*performance.now()%360;for(let e=0;e<c;e++){const i=1===c?1:(e+1)/c;o(t+a*i,n+r*i,(d+10*e)%360)}}function i(t){if("mouse"!==t.pointerType)return;const n=t.clientX,i=t.clientY;if(m.last)e(m.last.x,m.last.y,n,i);else{o(n,i,.08*performance.now()%360)}m.last={x:n,y:i}}function a(n){d.clearRect(0,0,m.w,m.h),d.globalCompositeOperation="lighter";const o=[];for(const e of m.points){const i=1-t((n-e.born)/e.ttl,0,1);i<=.001||(e.x+=e.vx,e.y+=e.vy,d.beginPath(),d.arc(e.x,e.y,e.r,0,2*Math.PI),d.fillStyle=`hsla(${e.hue}, 95%, 65%, ${.35*i})`,d.fill(),o.push(e))}m.points=o,requestAnimationFrame(a)}const r=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,s=window.matchMedia&&window.matchMedia("(hover: none)").matches,h=navigator.maxTouchPoints&&navigator.maxTouchPoints>0||navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>0;if(r||s||h)return;const c=document.createElement("canvas");c.id="cursor-trail-canvas",c.setAttribute("aria-hidden","true"),document.body.appendChild(c);const d=c.getContext("2d",{alpha:!0});if(!d)return;const m={dpr:1,w:0,h:0,points:[],maxPoints:170,last:null};n(),window.addEventListener("resize",n,{passive:!0}),window.addEventListener("pointermove",i,{passive:!0}),requestAnimationFrame(a)})();